<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Julien Marcon">
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Singleton - Design Patterns</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Singleton";
    var mkdocs_page_input_path = "singleton.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Design Patterns</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Création</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../abstract-factory/">Abstract Factory</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../factory/">Factory</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../builder/">Builder</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../prototype/">Prototype</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Singleton</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#utilite">Utilité</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#notes">Notes</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#exemple">Exemple :</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Structurel</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../adapter/">Adapter</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../bridge/">Bridge</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../composite/">Composite</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../decorator/">Decorator</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../facade/">Facade</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Design Patterns</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Création &raquo;</li>
        
      
    
    <li>Singleton</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/programgames/DesignPattern/edit/master/docs/singleton.md"
          class="icon icon-github"> Edit on Github</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="presentation">Présentation</h1>
<p>Le pattern Singleton permet de s'assurer d'avoir une seule instance d'un objet pour partager code/données.
Il permet de donner un accés global à cet instance.</p>
<h2 id="utilite">Utilité</h2>
<p>Il faut l'utiliser quand votre application doit avoir une seule instance pour tout les clients comme une BDD partagé dans les
différentes parties de votre programme.
Quand vous voulez un accée restreint sur vos variables globales.</p>
<h2 id="notes">Notes</h2>
<p>A utiliser dans des cas extremement spécifiques.
Il casse le S de solide.Il peut cacher des problêmes de conception.
Difficile a utiliser sur des application multitread.
Difficilement testable à cause de la liaison fort entre composant/application.</p>
<h4 id="exemple">Exemple :</h4>
<pre><code class="php">&lt;?php


namespace Creational\Singleton;


class Singleton
{
    private static $instances = [];

    protected function __construct() { }

    protected function __clone() { }


    public function __wakeup()
    {
        throw new \Exception(&quot;Cannot unserialize a singleton.&quot;);
    }

    public static function getInstance(): Singleton
    {
        $cls = static::class;
        if (!isset(self::$instances[$cls])) {
            self::$instances[$cls] = new static;
        }

        return self::$instances[$cls];
    }

    public function someBusinessLogic()
    {
        // ...
    }
}
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../adapter/" class="btn btn-neutral float-right" title="Adapter">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../prototype/" class="btn btn-neutral" title="Prototype"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../prototype/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../adapter/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
