<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Julien Marcon">
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Facade - Design Patterns</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Facade";
    var mkdocs_page_input_path = "facade.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Design Patterns</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Création</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../abstract-factory/">Abstract Factory</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../factory/">Factory</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../builder/">Builder</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../prototype/">Prototype</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../singleton/">Singleton</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Structurel</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../adapter/">Adapter</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../bridge/">Bridge</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../composite/">Composite</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../decorator/">Decorator</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Facade</a>
    <ul class="current">
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Design Patterns</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Structurel &raquo;</li>
        
      
    
    <li>Facade</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/programgames/DesignPattern/edit/master/docs/facade.md"
          class="icon icon-github"> Edit on Github</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="presentation">Présentation</h1>
<p>Le Design pattern Facade met à disposition une interface simplifié d'une librairie/framework/ensemble complexe de classe.</p>
<h1 id="utilite">Utilité</h1>
<p>Il permet de séparer la logique métier avec l'utilisation du framework pour éviter un couplage inutile et difficilement
maintenable.</p>
<p>La facade est trés pratique lorsque votre application utilise une librairie avec énormément de fonctionnalitées.
Elle vas vous permettre d'afficher que les fonctionnalitées dont vous avez besoin.
La facade permet de structurer des sous systeme en couches.</p>
<h1 id="exemple">Exemple :</h1>
<h4 id="2-classe-api">2 classe 'API'</h4>
<pre><code>&lt;?php

namespace Facade;

class CategoryApi
{

    public function getCategoryByProductName(string $name)
    {
        return 'Food';
    }
}
</code></pre>

<pre><code>&lt;?php

namespace Facade;

/**
 * We will not show a real api implementation ofc :)
 */
class ProductApi
{
    public function getProductNameById(int $id)
    {
        return 'My product';
    }

    public function getProductPriceByName(string $name)
    {
        return 9.99;
    }
}
</code></pre>

<h4 id="la-facade">La facade</h4>
<pre><code>&lt;?php

namespace Facade;

class Facade
{

    protected $categoryApi;

    protected $productApi;

    /**
     * Facade constructor.
     * @param $categoryApi
     * @param $productApi
     */
    public function __construct($categoryApi, $productApi)
    {
        $this-&gt;categoryApi = $categoryApi ?: new CategoryApi();
        $this-&gt;productApi = $productApi ?: new ProductApi();
    }

    public function getProductInfoById(int $id)
    {
        $info = 'Product Id : ' . $id . ' - ';

        $info .= 'Name : ' . $this-&gt;productApi-&gt;getProductNameById($id) . ' -  ';

        $info .= 'Price : ' . $this-&gt;productApi-&gt;getProductPriceByName(
                $this-&gt;productApi-&gt;getProductNameById($id)
            ) . ' -  ';

        $info .= 'Category : ' . $this-&gt;categoryApi-&gt;getCategoryByProductName(
                $this-&gt;productApi-&gt;getProductPriceByName(
                    $this-&gt;productApi-&gt;getProductNameById($id)
                )
            ) . PHP_EOL;


        return $info;
    }

}
</code></pre>

<h4 id="le-code-client">Le code client</h4>
<pre><code>&lt;?php

use Facade\Facade;

function clientCode(Facade $facade,$id)
{
    echo $facade-&gt;getProductInfoById($id);
}
</code></pre>

<h4 id="le-code-test">Le code test</h4>
<pre><code>&lt;?php

require __DIR__ . './../../../../vendor/autoload.php';

require 'clientCode.php';

use Facade\CategoryApi;
use Facade\Facade;
use Facade\ProductApi;

$productApi = new ProductApi();
$categoryApi = new CategoryApi();

$facade = new Facade($categoryApi,$productApi);

clientCode($facade,1);
</code></pre>

<h4 id="output">Output:</h4>
<pre><code>Product Id : 1 - Name : My product -  Price : 9.99 -  Category : Food
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../decorator/" class="btn btn-neutral" title="Decorator"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../decorator/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
